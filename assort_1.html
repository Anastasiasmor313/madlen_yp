<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–∏–∑–∫–µ–π–∫ –Ω–∞ –ø–∞–ª–æ—á–∫–µ</title>
    <link rel="stylesheet" href="ass.css">
    <link rel="stylesheet" href="glavn.css">
</head>
<body>
    <header class="header">
        <a href="/" class="logo"><img src="" >–ú–∞–¥–ª–µ–Ω</a>
        <nav class="nav-menu">
            <a href="glavn.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="assort.html" class="nav-link">–ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç</a>
            <a href="kontact.html" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
            <a href="korzina.html" class="nav-link">–ö–æ—Ä–∑–∏–Ω–∞</a>
            <a href="zakaz.html"><button class="order-btn">–ó–∞–∫–∞–∑–∞—Ç—å</button></a>
        </nav>
    </header>
    <section class="catalog">
        <h2>–ß–∏–∑–∫–µ–π–∫ –Ω–∞ –ø–∞–ª–æ—á–∫–µ</h2>
        <p style="margin-top: 10px;">–í —à–æ–∫–æ–ª–∞–¥–µ –¥–æ—Ä–æ–∂–µ –Ω–∞ 20 —Ä—É–±–ª–µ–π. –£–∫–∞–∂–∏—Ç–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–∫–∞–∑—É, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω —à–æ–∫–æ–ª–∞–¥.</p>
        <div class="catalog-grid">
        </div>
    </section>

    <section class="favorites">
        <h2>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
        <div class="favorites-grid">
        </div>
    </section>
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <h3>–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∞—è –ú–∞–¥–ª–µ–Ω</h3>
                <p>–ê–¥—Ä–µ—Å: –≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞ 21</p>
                <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 365 201 94 36</p>
            </div>
            <div class="footer-links">
                <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="assort.html">–ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç</a>
                <a href="kontact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                <a href="korzina.html">–ö–æ—Ä–∑–∏–Ω–∞</a>
            </div>
            <div class="social-links">
                <h4>–ú—ã –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö:</h4>
                <div class="social-icons">
                    <a href="https://t.me/sweetdreams" class="social-icon">
                        
                        <p style="font-size: 20px;">Telegram</p>
                    </a>
                    <a href="https://vk.com/sweetdreams" class="social-icon">

                        <p style="font-size: 20px;">VKontakte</p>
                    </a>
                    <a href="https://yandex.ru/maps/org/sweet_dreams" class="social-icon">

                        <p style="font-size: 20px;">–ù–∞ –∫–∞—Ä—Ç–µ</p>
                    </a>
                </div>
            </div>
        </div>
    </footer>
    <script>
        const catalogData = [
          {
            id: 1,
            name: '–ú–∞–ª–∏–Ω–∞-–ø–∏—Ç–∞—Ö–∞–π—è',
            description: '–Ø—Ä–∫–∏–µ –≤–∫—É—Å–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è –º–∞–ª–∏–Ω—ã –∏ —ç–∫–∑–æ—Ç–∏—á–µ—Å–∫–æ–π –ø–∏—Ç–∞—Ö–∞–π–∏ –≤ —ç—Ç–æ–º —á–∏–∑–∫–µ–π–∫–µ –Ω–∞ –ø–∞–ª–æ—á–∫–µ –ø—Ä–∏–Ω–æ—Å—è—Ç –Ω–∞—Å—Ç–æ—è—â—É—é —Ä–∞–¥–æ—Å—Ç—å –∏ —Å–≤–µ–∂–µ—Å—Ç—å.',
            price: '140 —Ä. (120-130 –≥—Ä)',
            image: 'img/assort_1/assort_1.jpg'
          },
          {
            id: 2,
            name: '–ö–ª—É–±–Ω–∏—á–Ω—ã–π –º–æ—Ö–∏—Ç–æ',
            description: '–û—Å–≤–µ–∂–∞—é—â–∏–π —á–∏–∑–∫–µ–π–∫ –Ω–∞ –ø–∞–ª–æ—á–∫–µ —Å –∫–ª—É–±–Ω–∏–∫–æ–π –∏ –ª–µ–≥–∫–æ–π –º—è—Ç–Ω–æ–π –Ω–æ—Ç–∫–æ–π, –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –¥–Ω–µ–π –∏ –ª–µ—Ç–Ω–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.',
            price: '140 —Ä. (120-130 –≥—Ä)',
            image: 'img/assort_1/as_2.jpg'
          },
          {
            id: 3,
            name: '–ö–ª—É–±–Ω–∏—á–Ω—ã–π —á–∏–∑–∫–µ–π–∫ ',
            description: '–ù–µ–∂–Ω—ã–π —á–∏–∑–∫–µ–π–∫ –Ω–∞ –ø–∞–ª–æ—á–∫–µ —Å —Å–ª–∞–¥–∫–∏–º –≤–∫—É—Å–æ–º —Å–ø–µ–ª–æ–π –∫–ª—É–±–Ω–∏–∫–∏, –¥–∞—Ä–∏—Ç —É—é—Ç –∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–µ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ —Å –∫–∞–∂–¥—ã–º —É–∫—É—Å–æ–º.',
            price: '130 —Ä. (120-130 –≥—Ä)',
            image: 'img/assort_1/as_3.jpeg'
          },
          {
            id: 4,
            name: '–ß–∏–∑–∫–µ–π–∫ —Ç–∏—Ä–∞–º–∏—Å—É',
            description: '–ß–∏–∑–∫–µ–π–∫, –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º —Ç–∏—Ä–∞–º–∏—Å—É —Å –∫–æ—Ñ–µ–π–Ω—ã–º–∏ –Ω–æ—Ç–∞–º–∏ –∏ –∫—Ä–µ–º–æ–≤–æ–π —Ç–µ–∫—Å—Ç—É—Ä–æ–π.',
            price: '130 —Ä. (120-130 –≥—Ä)',
            image: 'img/assort_1/as_4.jpg'
          },
          {
            id: 5,
            name: '–§–µ—Ä—Ä–µ—Ä–æ ',
            description: '–®–æ–∫–æ–ª–∞–¥–Ω—ã–π —á–∏–∑–∫–µ–π–∫ –Ω–∞ –ø–∞–ª–æ—á–∫–µ —Å –æ—Ä–µ—Ö–æ–≤—ã–º –≤–∫—É—Å–æ–º –§–µ—Ä—Ä–µ—Ä–æ, –ø–æ–∫—Ä—ã—Ç—ã–π —à–æ–∫–æ–ª–∞–¥–Ω–æ–π –≥–ª–∞–∑—É—Ä—å—é, –¥–∞—Ä–∏—Ç –Ω–∞—Å—ã—â–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ.',
            price: '140 —Ä. (120-130 –≥—Ä)',
            image: 'img/assort_1/as_5.jpg'
          },
          {
            id: 6,
            name: '–õ–µ–º–æ–Ω–≥—Ä–∞—Å—Å –ª–∞–π–º ',
            description: '–°–≤–µ–∂–∏–π —á–∏–∑–∫–µ–π–∫ –Ω–∞ –ø–∞–ª–æ—á–∫–µ —Å —Ü–∏—Ç—Ä—É—Å–æ–≤—ã–º–∏ –Ω–æ—Ç–∞–º–∏ –ª–µ–º–æ–Ω–≥—Ä–∞—Å—Å–∞ –∏ –ª–∞–π–º–∞, –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π —è—Ä–∫–∏—Ö –∏ –Ω–µ–æ–±—ã—á–Ω—ã—Ö –≤–∫—É—Å–æ–≤.',
            price: '130 —Ä. (120-130 –≥—Ä)',
            image: 'img/assort_1/as_6.jpg'
          },
          {
            id: 7,
            name: '–ü–∏–Ω–∞ –∫–æ–ª–∞–¥–∞',
            description: '–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π —á–∏–∑–∫–µ–π–∫ –Ω–∞ –ø–∞–ª–æ—á–∫–µ —Å –∞–Ω–∞–Ω–∞—Å–æ–º –∏ –∫–æ–∫–æ—Å–æ–º, –Ω–∞–ø–æ–ª–Ω—è–µ—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä—É —Å–æ–ª–Ω–µ—á–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è–º–∏.',
            price: '135 —Ä. (120-130 –≥—Ä)',
            image: 'img/assort_1/as_7.jpg'
          }
        ];
        
        let favorites = [];
        
        function renderCatalog() {
          const catalogGrid = document.querySelector('.catalog-grid');
          catalogGrid.innerHTML = catalogData.map(item => `
            <div class="catalog-card" data-id="${item.id}">
              <img src="${item.image}" alt="${item.name}" class="catalog-img">
              <div class="catalog-content">
                <h3>${item.name}</h3>
                <p>${item.description}</p>
                <h4>${item.price}</h4>
                <button class="favorite-btn ${favorites.includes(item.id) ? 'active' : ''}" 
                        onclick="toggleFavorite(${item.id})">
                  ${favorites.includes(item.id) ? '–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º' : '–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ'}
                </button>
              </div>
            </div>
          `).join('');
        }
        
        function renderFavorites() {
          const favoritesGrid = document.querySelector('.favorites-grid');
          const favoriteItems = catalogData.filter(item => favorites.includes(item.id));
          
          if (favoriteItems.length === 0) {
            favoritesGrid.innerHTML = '<p>–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç</p>';
            return;
          }
          
          favoritesGrid.innerHTML = favoriteItems.map(item => `
            <div class="catalog-card" data-id="${item.id}">
              <img src="${item.image}" alt="${item.name}" class="catalog-img">
              <div class="catalog-content">
                <h3>${item.name}</h3>
                <p>${item.description}</p>
                <h4>${item.price}</h4>
                <button class="remove-btn" onclick="toggleFavorite(${item.id})">
                  –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
                </button>
              </div>
            </div>
          `).join('');
        }
        
        function toggleFavorite(id) {
          const index = favorites.indexOf(id);
          if (index === -1) {
            favorites.push(id);
          } else {
            favorites.splice(index, 1);
          }
          
          // Save to localStorage
          localStorage.setItem('favorites', JSON.stringify(favorites));
          
          renderCatalog();
          renderFavorites();
        }
        
        // Load favorites from localStorage on page load
        window.addEventListener('DOMContentLoaded', () => {
          const savedFavorites = localStorage.getItem('favorites');
          if (savedFavorites) {
            favorites = JSON.parse(savedFavorites);
          }
          
          renderCatalog();
          renderFavorites();
        });
        
        document.getElementById('orderForm').addEventListener('submit', async function (e) {
          e.preventDefault();
          const form = e.target;
          const formData = new FormData(form);
          let isValid = true;
          form.querySelectorAll('[required]').forEach(field => {
            if (!field.value.trim()) {
              isValid = false;
              field.classList.add('invalid');
            } else {
              field.classList.remove('invalid');
            }
          });
          if (!isValid) {
            alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
            return;
          }
          try {
            await submitToTelegram(formData);
            showModal();
            form.reset();
          } catch (error) {
            alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
          }
        });
        
        document.querySelectorAll('.form-control').forEach(input => {
          input.addEventListener('input', function () {
            if (this.hasAttribute('required')) {
              if (this.value.trim()) {
                this.classList.remove('invalid');
              } else {
                this.classList.add('invalid');
              }
            }
          });
        });
        
        const productContainer = document.querySelector('.product-container');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        let position = 0;
        let visibleCards = 3;
        const totalCards = 6;
        
        function updateSliderPosition() {
          productContainer.style.transform = `translateX(${position}px)`;
        }
        
        function updateVisibleCards() {
          if (window.innerWidth > 1200) {
            visibleCards = 3;
          } else if (window.innerWidth > 768) {
            visibleCards = 2;
          } else {
            visibleCards = 1;
          }
        }
        
        window.addEventListener('resize', () => {
          updateVisibleCards();
          position = 0;
          updateSliderPosition();
        });
        
        updateVisibleCards();
        
        nextBtn.addEventListener('click', () => {
          const cardWidth = document.querySelector('.product-card').offsetWidth;
          position -= cardWidth;
          if (Math.abs(position) >= totalCards * cardWidth) {
            position = 0;
          }
          updateSliderPosition();
        });
        
        prevBtn.addEventListener('click', () => {
          const cardWidth = document.querySelector('.product-card').offsetWidth;
          position += cardWidth;
          if (position > 0) {
            position = -(totalCards - visibleCards) * cardWidth;
          }
          updateSliderPosition();
        });
        
        function showModal() {
          document.getElementById('successModal').style.display = 'flex';
        }
        
        function closeModal() {
          document.getElementById('successModal').style.display = 'none';
        }
        
        async function submitToTelegram(formData) {
          const BOT_TOKEN = '7666104449:AAHJH8W7APKkzHEn-SD6OGwJR2j7bH3MRZU';
          const CHAT_ID = '1200608860';
          const API_URL = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
          const message = `üì© –í–∞–º –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞:
        <b>–§–ò–û:</b> ${formData.get('fullName')}
        <b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> ${formData.get('phone')}
        <b>E-mail:</b> ${formData.get('email')}
        <b>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞:</b> ${formData.get('productName')}
        <b>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π:</b> ${formData.get('portions')}
        <b>–î–∞—Ç–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞:</b> ${formData.get('orderDate')}
        <b>–°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞:</b> ${formData.get('deliveryMethod')}
        ${formData.get('comments') ? `<b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</b> ${formData.get('comments')}` : ''}`;
          try {
            const response = await fetch(API_URL, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                chat_id: CHAT_ID,
                text: message,
                parse_mode: 'HTML'
              })
            });
            if (!response.ok) {
              throw new Error('Failed to send message');
            }
          } catch (error) {
            console.error('Error sending to Telegram:', error);
            throw error;
          }
        }
        </script>
</body>
</html>